(function(d){var a,c;(function(){var f,j=["webkit","moz","ms","o"],h;try{d.top.name;h=d.top}catch(g){h=d}a=h.requestAnimationFrame;c=h.cancelAnimationFrame||h.cancelRequestAnimationFrame;for(f=0;f<j.length&&!a;f++){a=h[j[f]+"RequestAnimationFrame"];c=h[j[f]+"CancelAnimationFrame"]||h[j[f]+"CancelRequestAnimationFrame"]}a&&a(function(){b.hasNative=true})})();function b(e){if(!(this instanceof b)){return new b(e)}e||(e={});if(typeof e=="number"){e={frameRate:e}}e.useNative!=null||(e.useNative=true);this.options=e;this.frameRate=e.frameRate||b.FRAME_RATE;this._frameLength=1000/this.frameRate;this._isCustomFrameRate=this.frameRate!==b.FRAME_RATE;this._timeoutId=null;this._callbacks={};this._lastTickTime=0;this._tickCounter=0}b.FRAME_RATE=60;b.shim=function(e){var f=new b(e);d.requestAnimationFrame=function(g){return f.request(g)};d.cancelAnimationFrame=function(g){return f.cancel(g)};return f};b.now=Date.now||function(){return(new Date).getTime()};b.navigationStart=b.now();b.perfNow=function(){if(d.performance&&d.performance.now){return d.performance.now()}return b.now()-b.navigationStart};b.hasNative=false;b.prototype.request=function(g){var e=this,f;++this._tickCounter;if(b.hasNative&&e.options.useNative&&!this._isCustomFrameRate){return a(g)}if(!g){throw new TypeError("Not enough arguments")}if(this._timeoutId==null){f=this._frameLength+this._lastTickTime-b.now();if(f<0){f=0}this._timeoutId=d.setTimeout(function(){var h;e._lastTickTime=b.now();e._timeoutId=null;++e._tickCounter;for(h in e._callbacks){if(e._callbacks[h]){if(b.hasNative&&e.options.useNative){a(e._callbacks[h])}else{e._callbacks[h](b.perfNow())}delete e._callbacks[h]}}},f)}this._callbacks[this._tickCounter]=g;return this._tickCounter};b.prototype.cancel=function(e){if(b.hasNative&&this.options.useNative){c(e)}delete this._callbacks[e]};if(typeof exports=="object"&&typeof module=="object"){module.exports=b}else{if(typeof define=="function"&&define.amd){define(function(){return b})}else{d.AnimationFrame=b}}})(window);
/*! Fluffy.js 1.0.0
 *
 * Sebastian Prein
 * Copyright 2014, MIT License
 */
(function(){var r;r=(typeof exports==="object")?exports:this;r.Fluffy||(r.Fluffy={});var v=!!document.querySelector&&!!r.addEventListener;var l=("ontouchstart" in window);var m={containerSelector:"#fluffy-container",contentSelector:"#fluffy-content",debug:false,itemSelector:null,scrollbarSelector:"#fluffy-scrollbar",showScrollbar:true,smartHeight:null,stageSelector:"#fluffy-stage"};var p={container:null,scrollbar:null,stage:null,content:null,items:null};var w;var o={last:0,real:0,fake:0,padding:60,damp:20,moveArea:0,fidderenceRatio:0,observer:null};var c={widthRatio:0};Fluffy.init=function(y){Fluffy.version="1.0.0";w=m;if(y!==undefined&&y!==null&&typeof y==="object"){Object.keys(y).forEach(function(z){if(w[z]!==undefined){w[z]=y[z]}})}if(!v){return f("Browser has no support for 'querySelector' or 'addEventListener'.")}p.container=s();p.scrollbar=g();p.stage=h();p.content=x();p.items=a();b()};Fluffy.getContentWidth=function(){for(var z=0,y=0;z<p.items.length;z++){y+=p.items[z].offsetWidth}return y};Fluffy.getContentHeight=function(){var A=p.items[0].offsetHeight;var y=0;for(var z=0;z<p.items.length;z++){if(p.items[z].offsetHeight>y){y=p.items[z].offsetHeight}if(p.items[z].offsetHeight<A){A=p.items[z].offsetHeight}}return[A,y]};function f(y){if(!w.debug||(!window.console||!console.debug)){return}console.debug("Fluffy: "+y)}function k(A,y){if(typeof A.classList==="object"){return A.classList.remove(y)}var z=A.className.split(" ");z.splice(z.indexOf(y),1);A.className=z.join(" ")}function q(z,y){if(typeof z.classList==="object"){return z.classList.add(y)}z.className+=" "+y}function e(A,z){if(!window.requestAnimationFrame){return window.setInterval(A,z)}var C=AnimationFrame.now(),B=new Object();function y(){var D=AnimationFrame.now(),E=D-C;if(E>=z){A.call();C=AnimationFrame.now()}B.value=requestAnimationFrame(y)}B.value=requestAnimationFrame(y);return B}function d(y){window.cancelAnimationFrame?window.cancelAnimationFrame(y.value):clearInterval(y)}function t(y){for(var z=0;z<y.length;z++){var D=y[z],B=D.nextSibling,C=D.previousSibling,A=D.parentNode;if(D!==null&&D.nodeType===3){A.removeChild(D)}if(C!==null&&C.nodeType===3){A.removeChild(C)}if(B!==null&&B.nodeType===3){A.removeChild(B)}}return y}function s(){p.container=document.querySelector(w.containerSelector);if(p.container===null){f("Container '"+w.containerSelector+"' not found.")}return p.container}function h(){p.stage=document.querySelector(w.stageSelector);if(p.stage===null){f("Stage '"+w.stageSelector+"' not found.")}return p.stage}function x(){p.content=document.querySelector(w.contentSelector);if(p.content===null){f("Content '"+w.contentSelector+"' not found.")}return p.content}function a(){var y=(w.itemSelector!==null)?document.querySelectorAll(w.itemSelector):p.content.childNodes;return p.items=t(y)}function g(){p.scrollbar=document.querySelector(w.scrollbarSelector);if(p.scrollbar===null){f("scrollbar '"+w.scrollbarSelector+"' not found.")}return p.scrollbar}function j(){return p.content.offsetWidth-p.stage.offsetWidth}function i(){return(p.stage.scrollLeft/j()*(100-(p.scrollbar.offsetWidth/p.stage.offsetWidth*100)))+"%"}function u(y){y-=p.container.offsetLeft-p.stage.offsetLeft;return Math.min(Math.max(0,y),p.container.offsetWidth)}function n(){c.widthRatio=(p.content.offsetWidth/p.stage.offsetWidth)-1;o.moveArea=p.stage.offsetWidth-(o.padding*2);o.fidderenceRatio=(p.stage.offsetWidth/o.moveArea)}function b(){if(w.showScrollbar&&!l){q(p.container,"has-scrollbar");p.stage.addEventListener("scroll",function(y){p.scrollbar.style.left=i()})}if(l){q(p.container,"is-touch")}window.onload=function(){if(p.container){k(p.container,"is-loading")}p.content.style.width=Fluffy.getContentWidth()+"px";if(w.smartHeight!==null){p.container.style.height="auto";p.stage.style.height=Fluffy.getContentHeight()[(w.smartHeight==="smallest")?0:1]+"px"}if(l){return}n();p.stage.addEventListener("mousemove",function(y){o.real=u(y.pageX);o.fake=Math.floor(Math.min(Math.max(0,o.real-o.padding),o.moveArea)*o.fidderenceRatio)});o.observer=e(function(){o.last+=(o.fake-o.last)/o.damp;p.stage.scrollLeft=o.last*c.widthRatio},10)};window.onresize=function(){n();p.content.style.width=Fluffy.getContentWidth()+"px";if(w.showScrollbar){p.scrollbar.style.left=i()}}}}).call(this);